<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <title>티</title>
  <!-- <link href="./lib/material-components-web.min.css" rel="stylesheet"> -->
  <link href="./lib/material-components-web.min.css" rel="stylesheet">
  <!-- <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css"> -->

  <!-- <script src="./lib/material-components-web.min.js"></script> -->
  <script src="./lib/material-components-web.min.new.js"></script>
  <!-- <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script> -->
  
  <link rel="stylesheet" href="./lib/icon.css">
  <link rel="stylesheet" href="./lib/common.css?a=4">
  <script src="./lib/hangul.js"></script>


</head>

<!--  using - default i18next-->
<!--
<script src="https://unpkg.com/i18next/i18next.js"></script>
<script src="https://unpkg.com/i18next-xhr-backend/i18nextXHRBackend.js"></script>
<script src="https://unpkg.com/i18next-browser-languagedetector/i18nextBrowserLanguageDetector.js"></script>
-->

<!-- using - jquery i18next -->
<!-- -->
<script src="./lib/jquery-3.6.4.min.js"></script>
<!--<script src="//code.jquery.com/jquery-3.2.1.min.js"></script>-->
<script src="./lib/i18next.min.js"></script>
<script src="./lib/common.js?a=4"></script>
<script src="./lib/interface.js?a=1"></script>
<script src="./lib/db.js"></script>
<script src="./lib/map.js"></script>
<script src="./lib/map_point.js"></script>
<script src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=l7xx2c3bc6b282ed46c9805c99db13f56149"></script>
<!-- 
    <script src="./lib/tmapjs2.min.js"></script>
 -->
<script src="https://unpkg.com/hangul-js" type="text/javascript"></script>

<script>
  var btnBack = null;

  var tabBar = null;
  var search = null;
  var btnConfirm = null;
  var btnNavi = null;
  var btnAddFavorite = null;
  var btnSearch = [];
  var btnMyLocation = null;
  var list = [];
  var tIdx = 0;
  var searchValue = "";
  var searchFavoriteValue = "";
  var isFirstLoad = true;
  var selectedPoiItem = null;
  var map_ = null;
  var maps = null;

  var localStorageBasic = new InitLocalStorage("basic", ['id', 'name', 'key']);
  var localStorageRecent = new InitLocalStorage("recent", ['id', 'name', 'key']);

  var search1 = "";
  var search2 = "";
  var search3 = "";
  var poiArrs = [];
  var poiCurrents = [];
  var mdcList = null;

  var defaultListHeight = 60;
  // var markerArr = [];
  var poiArr = [];
  var recentArr = [];

  var setGubun = getParam("set");
  fn_Progress_Show();

  $(document).ready(function () {
    maps = new Map_();

    btnConfirm = new mdc.ripple.MDCRipple(document.querySelector("#btnConfirm"));
    btnNavi = new mdc.ripple.MDCRipple(document.querySelector("#btnNavi"));
    btnConfirm2 = new mdc.ripple.MDCRipple(document.querySelector("#btnConfirm2"));
    btnBack = new mdc.ripple.MDCRipple(document.querySelector("#btnBack"));
    tabBar = new mdc.tabBar.MDCTabBar(document.querySelector('.mdc-tab-bar'));
    //  tabBar.foundation.adapter.setActiveTab(tIdx);
    search = new mdc.textField.MDCTextField(document.querySelector('#search'));
    list = new mdc.list.MDCList(document.querySelector('.mdc-list'));
    list.singleSelection = true;

    document.addEventListener("MDCTabBar:activated", (e) => {

      tIdx = tabBar.foundation.adapter.getFocusedTabIndex();
      [].map.call(document.querySelectorAll(".tab_area"), el => {
        el.hide();
      });
      document.querySelectorAll(".tab_area")[tIdx].show("block");

      maps.removeCurrentMarker();
      setAddress();

      if (tIdx == 0) {
        window.search1 = search.value;
      } else if (tIdx == 1) {
        window.search2 = window.paramSearch ? window.paramSearch : search.value;
      } else if (tIdx == 2) {
        window.search3 = search.value;
      }
      onChangeButton(false, false);
      var isLoaded = false;
      if ( maps.items[tIdx] ) {
        map = maps.items[tIdx];
        isLoaded =  true;
      } else {
        if (tIdx == 1) { // 검색
          if ( !maps.items[tIdx] ) {
            maps.items[tIdx] = maps.init({
              id: "map_div" + tIdx
              //          , height : (maps.option.height.replace(/[^0-9]/g,"") - (height) ) + "px"
              //          , height : (maps.option.height.replace(/[^0-9]/g,"") ) + "px"
              , height: "300px"
              , callBack: function (map) {
              }
            });
          }
          map = maps.items[tIdx];
        } else if (tIdx == 2) { // 즐겨찾기
          if ( !maps.items[tIdx] ) {
            maps.items[tIdx] = maps.init({
              id: "map_div" + tIdx
              //          , height : (maps.option.height.replace(/[^0-9]/g,"") - (height) ) + "px"
              //          , height : (maps.option.height.replace(/[^0-9]/g,"") ) + "px"
              , height: "300px"
              , callBack: function (map) {
              }
            });
          }
          map = maps.items[tIdx];
        } else if (tIdx == 3) { // 지도지정
          var h = window.innerHeight -
            document.querySelector(".mdc-top-app-bar").offsetHeight -
            45
            ;
          h -= -12;
          if ( !maps.items[tIdx] ) {
            maps.items[tIdx] = maps.init({
              id: "map_div" + tIdx
              //          , height : (maps.option.height.replace(/[^0-9]/g,"") - (height) ) + "px"
              //          , height : (maps.option.height.replace(/[^0-9]/g,"") ) + "px"
              , height: (h) + "px"
              , callBack: function (map) {
              }
            });
          }
          map = maps.items[tIdx];
        }
      } 

      if (tIdx == 0 || tIdx == 1) { // 최근기록, 검색
        document.querySelector("#search_wrapper").show("block");
      } else {
        document.querySelector("#search_wrapper").hide();
      }
      
      mdcList = null;

      if (tIdx == 0) { // 최근기록
        btnMyLocation[0].root.hide();
        onChangeButton(false, false);
        search.root.show();
        search.input.readOnly = false;
        search.value = window.search1;

        var dbChecker = setInterval(function () {
          if (localStorageRecent.db != null) {
            console.info("db is not null");
            clearInterval(dbChecker);
            // var event = new MouseEvent('keyup', { view: window, bubbles: true, cancelable: true });
            // search.input.dispatchEvent(event);
            searchRecentPOI(function(){
            });
          } else {
            console.info("db is null");
          }
        }, 1);
        setAddress(null);
      } else if (tIdx == 1) { // 검색
        if (window.set_search_value) {
          window.search2 = window.set_search_value;
          window.set_search_value = "";
        }
        search.root.show();
        search.input.readOnly = false;
        search.value = window.search2;
        // var event = new MouseEvent('keyup', { view: window, bubbles: true, cancelable: true });
        // search.input.dispatchEvent(event);

        if ( !isLoaded ) {
          searchPOI();
        } else {
          poiArr = poiArrs[tIdx];
          mdcList = new mdc.list.MDCList(document.querySelectorAll('.poi_list')[tIdx]);
          scrollTopOnSelectList(mdcList.root, mdcList.selectedIndex,false);
        }
        
        map.addListener(CommonUtil.fn_IS_APP() == "X"?"drag":"touchend", redrawCurrentMarker);

      } else if (tIdx == 2) { // 즐겨찾기
        search.value = window.search3;
        ///////////////////////////////////////////////////// 
        search.root.show();
        search.input.readOnly = true;
        searchClear.root.hide();
        //            search.value = "";

        if ( !isLoaded ) {
          var dbChecker = setInterval(function () {
            if (localStorageBasic.db != null) {
                console.info("db is not null");
                clearInterval(dbChecker);
                searchFavoritePOI(function () {
                });
              } else {
                console.info("db is null");
              }
          }, 1);
          scrollTopExec(2);

        } else {
          poiArr = poiArrs[tIdx];
          mdcList = new mdc.list.MDCList(document.querySelectorAll('.poi_list')[tIdx]);
          scrollTopOnSelectList(mdcList.root, mdcList.selectedIndex,false);
        }
        ///////////////////////////////////////////////////// 
        map.addListener(CommonUtil.fn_IS_APP() == "X"?"drag":"touchend", redrawCurrentMarker);

      } else if (tIdx == 3) { // 지도지정
        snackbar("핀을 드래그해서 위치를 조정하세요.");
        onChangeButton(true, true);

        btnMyLocation[0].root.show();
        
        map.addListener(CommonUtil.fn_IS_APP() == "X"?"drag":"touchend", redrawCurrentMarker);

        if ( !isLoaded ) {
          window.getLocationTabIndex3 = function(mayId, lat, lon, address) {
            getMyLocation(mayId, lat, lon, address,function(){
              maps.addCurrentMarker(map, maps.my,function(evt){
                redrawCurrentMarker(evt);
                // maps.current.marker.addListener("touchend", redrawCurrentMarker);
              });
              maps.setCenter(map, maps.my.getLat(), maps.my.getLon());
            });
          }
          fn_GetLocation("map[" + tIdx + "]", "getLocationTabIndex3");
        } else {
          maps.addCurrentMarker(map, maps.poiCurrents[tIdx],function(evt){
            redrawCurrentMarker(evt);
            // maps.current.marker.addListener("touchend", redrawCurrentMarker);
          });
          setAddress(maps.poiCurrents[tIdx].item.fullAddress);

        }
      }
      


    }); // end tab

    btnBack.listen("click", function (event) {
      if ( opener.tIdx ) {
        if (opener.tIdx == 2) { // 즐겨찾기
          opener.bindPoiForFavoritePopup();
        } else if (opener.tIdx == 3) { // 최근
          opener.reloadRecent();
        }
      }

      // self.close();
      windowClose();
    });

    //    btnSearch = new mdc.ripple.MDCRipple(document.querySelector("#btnSearch"));
    btnSearch = [].map.call(document.querySelectorAll(".btnSearch"), el => {
      var rtnEl = new mdc.ripple.MDCRipple(el);
      rtnEl.listen("click", function (event) {
        if (tIdx == 0) {
          searchRecentPOI();
        } else if (tIdx == 1) {
          searchPOI();
        } else if (tIdx == 2) {
          searchFavoritePOI();
        }
      });
      return rtnEl;
    });

    search.listen("click", function (event) {
      if (tIdx == 2) {
        setTimeout(function () {
          window.open("search.html", "_blank", "");
          //            fn_OpenPop("search.html");
        }, 500);
      }
    });
    search.listen("keyup", function (event) {
      window.paramSearch = "";
      if (search.value) searchClear.root.show("inline");
      else searchClear.root.hide();
      //T
      if (tIdx != 0 && window.event.keyCode == 13) {
        var event = new MouseEvent('click', { view: window, bubbles: true, cancelable: true });
        var cancelled = !btnSearch[0].root.dispatchEvent(event);
        btnSearch[0].root.focus();
        //			cb.focus();
      } else {
        if (tIdx == 0) {
          $(list[tIdx].root).empty();
          $(list[tIdx].root).show();
          recentArr = [];

          localStorageRecent.allPoi(function (data) {
            data.sort(function (a, b) {
              return b.created - a.created;
            });
            // object 에 초성필드 추가 {name:"홍길동", diassembled:"ㅎㄱㄷ"}
            data.forEach(function (item) {
              var dis = Hangul.disassemble(item.name, true);
              var cho = dis.reduce(function (prev, elem) {
                elem = elem[0] ? elem[0] : elem;
                return prev + elem;
              }, "");
              item.diassembled = cho;
            });
            console.info(data);

            //                var search = this.value;
            var search1 = Hangul.disassemble(search.value).join("");  // ㄺ=>ㄹㄱ

            data
              // 문자열 검색 || 초성검색
              .filter(function (item) {
                return item.name.includes(search.value) || item.diassembled.includes(search1);
              })
              // 검색결과 ul 아래에 li 로 추가
              .forEach(function (item) {
                var mapPoint = new MapPoint(item.lat, item.lon, item.name, item);
                //					mapPoint.gubun = item.id;
                //						if ( item.gubun.value === "search") {
                //						}
                recentArr.push(mapPoint);

                var row = document.querySelectorAll(".poi_list_item")[tIdx].cloneNode(true); //mdc-list-item fisrt node;
                row.show();
                row.className = row.className.replace("poi_list_item", "");
                row.children[0].innerText = item.gubun.value == NaviGubun.SEARCH.value ? "search" : "place";
                row.children[1].innerText = mapPoint.getName();
                var detail = [
                  item.upperAddrName,
                  item.middleAddrName,
                  item.lowerAddrName,
                  item.roadName,
                  item.firstBuildNo
                ];
                row.children[2].innerText = mapPoint.item.created.yyyymmdd().substring(4, 6) + "." + mapPoint.item.created.yyyymmdd().substring(6);
                //              }
                document.querySelectorAll('.poi_list')[tIdx].appendChild(row);
                listItemRipples = list[tIdx].listElements.map((listItemEl) => new mdc.ripple.MDCRipple(listItemEl));
              });
          });
        }
      }
    });

    var searchClear = new mdc.ripple.MDCRipple(document.querySelector("#search_clear"));
    searchClear.listen("click", function (event) {
      searchClear.root.hide();
      search.value = "";
      if (tIdx == 0) searchRecentPOI();
    });

    list = [].map.call(document.querySelectorAll(".mdc-list"), el => {
      var rtnEl = new mdc.list.MDCList(el);
      rtnEl.singleSelection = true;
      rtnEl.listen("click", function (e) {
        if (tIdx == 1 || tIdx == 2) {
          var index = rtnEl.selectedIndex;
          var poi = poiArr[index];
          if ( setGubun === "home") {
             maps.setHome(poi);
          } else if ( setGubun === "company") {
            maps.setCompany(poi);
          } 
          if (e.srcElement.className.includes("icon")) {
              e.stopPropagation();
              console.info("key", poi.id + "_" + poi.getName());
              scrollTopOnSelectList(rtnEl.root, index);
              
              maps.items[2] = null; // 즐겨찾기 탭 초기화
              
              localStorageBasic.getPoiCount("key", poi.id + "_" + poi.getName(), function (count) {
                if (count == 0) {
                  maps.addFavorite(poi);
                  // snackbar("즐겨찾기가 등록었습니다.");
                  e.srcElement.innerText = "star";
                  // if (tIdx == 2 ) {
                  // searchFavoritePOI();
                  // }
                  btnConfirm.root.hide();
                  btnConfirm2.root.show("inline");
                  btnConfirm2.root.style.width = "49%";
                } else {
                  material.confirm(t("message.confirm_favorite_delete"), function () {
                    // snackbar("즐겨찾기가 삭제었습니다.");
                    maps.delFavorite(poi);
                    e.srcElement.innerText = "star_border";
                    // if (tIdx == 2 ) {
                    //    searchFavoritePOI();
                    // }
                    onChangeButton(true, true);
                  });
                }
              });
          } else {
            if (tIdx == 1 || tIdx == 2) {
              scrollTopOnSelectList(rtnEl.root, index);
            }
            localStorageBasic.getPoiCount("key", poi.id + "_" + poi.getName(), function (count) {
              if (count > 0) {
                btnConfirm.root.hide();
                btnConfirm2.root.show("inline");
                btnConfirm2.root.style.width = "49%";
                // document.querySelector('#btnConfirm2 .mdc-button__label').innerHTML = t("label.remove_favorite");
              } else {
                btnConfirm2.root.hide();
              }
            });
          }
        } else {
          var index = rtnEl.selectedIndex;
          e.stopPropagation();
          var poi = recentArr[index];
          console.info(poi);
          if (poi.gubun.value == NaviGubun.SEARCH.value) {
            console.info("검색화면");
            maps.items[1] = null; // 검색화면
            // window.open("http://softm.net/t/search.html?idx=1&search="+poi.name,"_blank","");
            var cb = document.querySelector("#mdc-tab-" + (2)); // 검색
            var event = new MouseEvent('click', { view: window, bubbles: true, cancelable: true });
            // event.aaaa=true; // pass data custom
            window.set_search_value = poi.name; // pass data custom
            console.info(window.set_search_value);
            var cancelled = !cb.dispatchEvent(event);
            cb.focus();
          } else if (poi.gubun.value == NaviGubun.POI.value) {
            fn_StartNavi(poi.getName(), poi.getLat(), poi.getLon());
          }
        }
      });
      return rtnEl;
    });

    btnMyLocation = [].map.call(document.querySelectorAll(".btnMyLocation"), el => {
      var rtnEl = new mdc.ripple.MDCRipple(el);
      rtnEl.listen("click", function (event) {
        onChangeButton(false, false);
        fn_GetLocation("maps.items[" + tIdx + "]", "moveMylocation");
      });
      return rtnEl;
    });

    window.moveMylocationCallback = function (mayId,lat, lon, address,cb) {
      if (tIdx == 3) {
        //			maps.addCurrentMarker(map,maps.my);
        //			maps.setCenter(map,maps.my.getLat(),maps.my.getLon());
        //			maps.removeMarker(maps.my);
      }
      setAddress(null);
      maps.poiToAddress(lat, lon, function (data) {
        maps.setMy(new MapPoint(lat, lon, address,data));
        setAddress(data.addressInfo.fullAddress);
        maps.removeMarker(maps.current);
        if ( window.map ) {
          maps.addMyMarker(map, maps.my);
          maps.setCenter(map,maps.my.getLat(),maps.my.getLon());
        }

        if ( cb ) cb();

      });
    }

    btnNavi.listen("click", function (event) {
      var poi = null;
      if (maps.current) {
        poi = maps.current;
      } else {
        console.info("fn_StartNavi");
        if (tIdx == 0) {
          poi = maps.home;
        } else if (tIdx == 1) {
          poi = maps.company;
        } else if (tIdx == 2) {
          poi = maps.favorite;
        }
      }
      if (poi) {
        console.info("fn_StartNavi", poi.getName(), poi.getLat(), poi.getLon());
        localStorageRecent.delPoi("key", poi.id + "_" + poi.getName(), function () {
          var mapPoint = objectToMapPoint(poi);
          localStorageRecent.addPoi(mapPoint, function () {
          });
        });
        fn_StartNavi(poi.getName(), poi.getLat(), poi.getLon());
      } else {
        snackbar(t("message.address_not_exist"));
      }
    });

    btnConfirm.listen("click", function (event) {
      if (tIdx == 0) {

      } else if (tIdx == 1 || tIdx == 2 || tIdx == 3) {
        //			onChangeButton(false,false);
        maps.addFavorite(maps.current,function(){
          maps.items[2] = null; // 즐겨찾기 탭 초기화
          
          if ( tIdx == 2) {
            tabBar.tabList[2].deactivate();
            tabBar.activateTab(2);
          }
          snackbar("즐겨찾기가 등록었습니다.");
        
        });
        //			e.srcElement.innerText = "star";
        //				searchPOI();
        //				poiArr[list[tIdx].selectedIndex]
        if ( tIdx === 1 ) {
          if ( maps.current.lat == poiArr[list[tIdx].selectedIndex].lat && 
               maps.current.lon == poiArr[list[tIdx].selectedIndex].lon 
          ) {
            list[tIdx].root.children[list[tIdx].selectedIndex].children[2].innerText = "star";
            btnConfirm.root.hide();
            btnConfirm2.root.show("inline");
            btnConfirm2.root.style.width = "49%";
          }
        } else {
          btnConfirm.root.hide();
        }
        onChangeButton(true, true);
      }
      //        scrollTopExec();
    });

    btnConfirm2.listen("click", function (event) {
      //		if ( tIdx == 1 ) {
      var poi = poiArr[list[tIdx].selectedIndex]
      material.confirm("즐겨찾기를 삭제 하시겠습니까?", function () {
        maps.delFavorite(maps.current,function(){
          maps.items[2] = null; // 즐겨찾기 탭 초기화
          if ( tIdx == 2) {
            tabBar.tabList[2].deactivate();
            tabBar.activateTab(2);
          }
          snackbar("즐겨찾기가 삭제었습니다.");
        });

        

        //				searchPOI();
        list[tIdx].root.children[list[tIdx].selectedIndex].children[2].innerText = "star_border";
        onChangeButton(true, true);
      });
      //		}
    });


    topScroll(function () {
      if (tIdx == 1 || tIdx == 2) {
        maps.setPositionClear({
          mapId: "map_div" + tIdx
          , marginElement: list[tIdx].root
        });
      } else if (tIdx == 3) {

      }
    }, function () {
      if (tIdx == 1 || tIdx == 2) {
        if (maps.current) {
          maps.setPositionBottom({
            mapId: "map_div" + tIdx
            , marginElement: list[tIdx].root
          });
          //				btnMyLocation[0].root.show();
        }
      }
    }, 80);

    fEndScroll();

    // 1. 진입점
    console.error("진입점");
    //	fn_GetLocation("getMyLocation");
    fn_GetLocation("map[" + tIdx + "]", "getLocationInitTab");
  });

  function redrawCurrentMarker(evt) {
    maps.poiToAddress(evt.latLng.lat(), evt.latLng.lng(), function (data) {
      setAddress(null);
      setAddress(data.addressInfo ? data.addressInfo.fullAddress:"", data.addressInfo);
      
      maps.removeCurrentMarker();
      maps.addCurrentMarker(map, new MapPoint(evt.latLng.lat(), evt.latLng.lng(), data.addressInfo ? data.addressInfo.fullAddress:"", data.addressInfo),function(evt){
        redrawCurrentMarker(evt);
        // maps.current.marker.addListener("touchend", redrawCurrentMarker);
      });
      // maps.current.marker.addListener("touchend", redrawCurrentMarker);
      maps.poiCurrents[tIdx] = maps.current;

      if (tIdx == 1 || tIdx == 2) {
        onChangeButton(true, true);
      } else if (tIdx == 3) {
        onChangeButton(true, true);
      }
    });
  }

  function fEndScroll() {
    endScroll(function () {
      if (tIdx == 0) {
        btnMyLocation[0].root.hide();
      } else if (tIdx == 1 || tIdx == 2) {
        btnMyLocation[0].root.show();
      }
    }, function () {
      if (tIdx == 0) {
      } else if (tIdx == 1 || tIdx == 2) {
        if ($("#map_div" + tIdx).css("position") == "fixed") {
          btnMyLocation[0].root.show();
        } else {
          btnMyLocation[0].root.hide();
        }
      }
    }, 200);
  }
  var idx = getParam("idx");
  if (idx) {
      tIdx = parseInt(idx, 10);
  }

  function getLocationInitTab(mayId, lat, lon, address) {
    var tmpTidx=tIdx;
    // tabBar.activateTab(0);
    getMyLocation(mayId, lat, lon, address,function(){
      // setTimeout(function(){
        // snackbar(tIdx);
        // window.blur();
        tabBar.activateTab(tIdx);
      // },500)
    });
  }

  function getMyLocation(mayId, lat, lon, address,cb) {
    console.info("getMyLocation", lat, lon, address);
    if (!lat) {
      // lat = 37.566481622437934;
      // lon = 126.98502302169841;
      lat = 36.9876599;
      lon = 126.8487439;
      address = "포승읍 모아미래도2차";
    }
    // var idx = getParam("idx");
    // if (idx) {
    //   tIdx = parseInt(idx, 10);
    // }

    // map, lat, lon, address

    moveMylocationCallback(mayId,lat, lon, address,cb);

    if (tIdx == 1) { // 검색
      window.paramSearch = decodeURIComponent(getParam("search"));
    }

    // var cb = document.querySelector("#mdc-tab-" + (tIdx + 1));
    // var cancelled = !cb.dispatchEvent(new MouseEvent('click', { view: window, bubbles: true, cancelable: true }));
    // cb.focus();
  }

  function searchPOI() {
    maps.removeAllMarker();

    // search.input.blur(); // force unfocus
    $(list[tIdx].root).empty();
    var params = {
      onComplete: successCallbackForSearchPOI,
      onProgress: progressCallbackForSearchPOI,
      onError: errorCallbackForSearchPOI
    };
    //        if (search.value) {
    maps.searchPoiData(search.value, successCallbackForSearchPOI, progressCallbackForSearchPOI, errorCallbackForSearchPOI);
    //        }
  }

  function scrollTopOnSelectList(list, index,redraw) {
    var h = list.offsetTop + $(list).find("li:eq(" + index + ")").height() * (index - 1) - 40;
    if ( h ) {
      scrollTopExec(h, 300, function () {
        btnMyLocation[0].root.show();
        maps.setPositionBottom({
          mapId: "map_div" + tIdx
          , marginElement: list
        });

      });
    } else {
    }

    redraw = redraw?redraw:true;

    console.info("scrollTopOnSelectList", h);
    //	maps.setCurrent(poiArr[index]);
    //	$(document).scrollTopExec($(document).height());
    // if ( redraw ) {
      maps.removeCurrentMarker();
      if ( index > -1 ) {
        maps.addCurrentMarker(map, poiArrs[tIdx][index]);
      }
      // maps.addCurrentMarker(map, poiArrs[tIdx][index],function(evt){
      //   debugger;;
      //   redrawCurrentMarker(evt);
      //   // maps.current.marker.addListener("touchend", redrawCurrentMarker);
      // });

    // } 
    if ( maps.current ) {
      maps.setCenter(map,maps.current.lat,maps.current.lon);
    }
    // maps.setZoom(map,10);

    
    if (tIdx == 0) { // 집
      //		setPoiForHome ();
    } else if (tIdx == 1) { // 회사
      //		setPoiForCompany();
    } else if (tIdx == 2) { // 즐겨찾기
      //		setPoiForFavoite();
    }
    if (tIdx == 0) {
      onChangeButton(true, true);
    } else if (tIdx == 1) {
      if ( index > -1 ) {
        onChangeButton(true, true);
      } else {
        onChangeButton(false, false);
      }
    } else if (tIdx == 2) { // 즐겨찾기
      if ( index > -1 ) {
        onChangeButton(true, true);
        btnConfirm.root.hide();
        btnConfirm2.root.show("inline");
        btnConfirm2.root.style.width = "49%";
      } else {
        onChangeButton(false, false);
      }
    }

    setAddress(null);
    if ( maps.current ) {
      maps.poiToAddress(maps.current.getLat(), maps.current.getLon(), function (data) {
        setAddress(data.addressInfo.fullAddress);
      });

      maps.current.setDobound(true);
    }
  }

  function searchFavoritePOI(callBack) {
    localStorageBasic.allPoi(function (data) {
      data.sort(function (a, b) {
        return b.created - a.created;
      });

      var v = {
        searchPoiInfo: {
          pois: {
            poi: data
          }
        }
      }
      successCallbackForSearchPOI.apply({
        _responseData: v,
        callBack: callBack
      });
    });
  }


  function searchRecentPOI(callBack) {
    $(list[tIdx].root).empty();
    localStorageRecent.allPoi(function (data) {

      data.sort(function (a, b) {
        return b.created - a.created;
      });
      document.querySelectorAll(".poi_list")[tIdx].show("block");
      recentArr = [];

      jQuery(data).each(function (index, data) {

        var item = null;
        item = data;

        var name = item.name;
        var id = item.id;
        var lon = item.frontLon;
        var lat = item.frontLat;
        var mapPoint = new MapPoint(item.lat, item.lon, item.name, item);
        //					mapPoint.gubun = data.id;
        if (data.gubun.value === "search") {
        }
        recentArr.push(mapPoint);

        var row = document.querySelectorAll(".poi_list_item")[tIdx].cloneNode(true); //mdc-list-item fisrt node;
        row.show();
        row.className = row.className.replace("poi_list_item", "");
        var icon = index < 9 ? "pin_b_m_" + (index + 1) + ".png" : "pin_b_s_simple.png";
        var widthHeight = "";
        widthHeight = "width='30' height='40'";
        row.children[0].innerText = data.gubun.value == NaviGubun.SEARCH.value ? "search" : "place";
        row.children[1].innerText = mapPoint.getName();
        var detail = [
          item.upperAddrName,
          item.middleAddrName,
          item.lowerAddrName,
          item.roadName,
          item.firstBuildNo
        ];
        row.children[2].innerText = mapPoint.item.created.yyyymmdd().substring(4, 6) + "." + mapPoint.item.created.yyyymmdd().substring(6);
        //              }
        document.querySelectorAll('.poi_list')[tIdx].appendChild(row);
        listItemRipples = list[tIdx].listElements.map((listItemEl) => new mdc.ripple.MDCRipple(listItemEl));
      });
    });
  }

  //POI검색
  //    var positionBounds = null;
  function successCallbackForSearchPOI() {
    console.log(this._responseData);
    maps.setCurrent(null);
    maps.removeAllMarker();
    poiArr = [];
    var count = 0;
    $(list[tIdx].root).empty();
    maps.setPositionClear({
      mapId: "map_div" + tIdx
      , marginElement: list[tIdx].root
    });

    if (this._responseData.searchPoiInfo &&
      this._responseData.searchPoiInfo.pois &&
      this._responseData.searchPoiInfo.pois.poi != '') {
      count = this._responseData.searchPoiInfo.pois.poi.length;
      document.querySelectorAll(".poi_list")[tIdx].show("block");
      jQuery(this._responseData.searchPoiInfo.pois.poi).each(function (index, data) {
        var item = null;
        // if ( data instanceof MapPoint ) {
        if (data.item) {
          item = Object.assign({},data,data.item);
        } else {
          item = data;
        }

        // var name = data.name;
        // var id = data.id;
        // var lon = data.lon;
        // var lat = data.lat;

        var name = item.name;
        var id = item.id;
        var lat = item.frontLat || item.lat;
        var lon = item.frontLon || item.lon;

        var detail = [
          item.upperAddrName,
          item.middleAddrName,
          item.lowerAddrName,
          item.roadName,
          item.firstBuildNo
        ];

        var poi = new MapPoint(lat, lon, name, item);
        // var poi = new MapPoint(data);
        console.log("list.poi",data,item,poi);
        var marker = maps.addNumberMarker(maps.items[tIdx], poi, index,null,false, function () {
            //                        maps.setCurrent( new MapPoint(poi.getLat(),poi.getLon(),poi.getName(),item) );
            //                        if (tIdx == 2) { // 즐겨찾기
            //                            setPoiForFavoite();
            //                        }
            //          list[1].foundation.setSelectedIndex(0);list[1].foundation.adapter.focusItemAtIndex(0);
            list[tIdx].foundation.setSelectedIndex(index);
            list[tIdx].foundation.adapter.focusItemAtIndex(index);

            scrollTopOnSelectList(list[tIdx].root, index);

            //                        if ( tIdx==0 ) {
            //                            onChangeButton(true,true);
            //                        } else if ( tIdx==1 ) {
            //                            onChangeButton(true,true);
            //                        } else if ( tIdx==2 ) {
            //                            onChangeButton(true,true);
            //                            document.querySelector('#btnConfirm .mdc-button__label').innerHTML = t("label.favorite");
            //                        }
            //                        maps.poiToAddress(maps.current.getLat(),maps.current.getLon(),function(data){
            //                            setAddress(data.addressInfo.fullAddress);
            //                        });
            //                        maps.removeMarker(maps.current.marker);
            //                        poi.setDobound(false);
            //                        setAddress(null);
            //                        maps.setCurrent(poi);
            ////                        maps.setCenter(map,maps.items[tIdx],poi.getLat(),poi.getLon());
            ////                        maps.setZoom(maps.items[tIdx],markerZoom);
          });


        //                console.info("add Poi Marker", "marker" , marker );
        // markerArr.push(marker);
        
        poiArr.push(poi);
        maps.addBound(poi);
        // 조회마커와, 목적지마커가 동일하면 조회마커 안보임
        if (maps.home && maps.home.getLat() == poi.getLat() && maps.home.getLon() == poi.getLon()) {
          marker.setVisible(false);
        }
        if (maps.company && maps.company.getLat() == poi.getLat() && maps.company.getLon() == poi.getLon()) {
          marker.setVisible(false);
        }
        if (maps.favorite && maps.favorite.getLat() == poi.getLat() && maps.favorite.getLon() == poi.getLon()) {
          marker.setVisible(false);
        }

        //              var listItemRipples = list.listElements.map((listItemEl) => new mdc.ripple.MDCRipple(listItemEl));
        //              var row = listItemRipples[0].root.cloneNode(true);
        var row = document.querySelectorAll(".poi_list_item")[tIdx].cloneNode(true); //mdc-list-item fisrt node;
        row.show();
        row.className = row.className.replace("poi_list_item", "");
        var icon = index < 9 ? "pin_b_m_" + (index + 1) + ".png" : "pin_b_s_simple.png";
        var widthHeight = "";
        widthHeight = "width='30' height='40'";
        row.children[0].innerHTML = "<img src='http://tmapapis.sktelecom.com/upload/tmap/marker/" + icon + "' " + widthHeight + " class='position_r' />";
        row.children[1].children[0].innerText = poi.getName();

        row.children[1].children[1].innerText = detail.join(" ");
        //              if (tIdx == 2) { // 즐겨찾기
        localStorageBasic.getPoiCount("key", item.id + "_" + item.name, function (count) {
          if (count > 0) {
            //                          console.error(row.children[2]);
            row.children[2].innerText = "star";
          } else {
            row.children[2].innerText = "star_border";
          }
        });
        //              }
        document.querySelectorAll('.poi_list')[tIdx].appendChild(row);
        listItemRipples = list[tIdx].listElements.map((listItemEl) => new mdc.ripple.MDCRipple(listItemEl));
        //              list.selectedIndex = 1;
        //              list.listElements[6].focus();list.selectedIndex = 7; // 초기 Selection
      });

      mdcList = new mdc.list.MDCList(document.querySelectorAll('.poi_list')[tIdx]);
      poiArrs[tIdx] = poiArr;

      if (tIdx == 0) {
        //              snackbar(count + '건의 검색결과가 있습니다.');
        //              snackbar('검색 되었습니다.');
      } else if (tIdx == 1) {

      }
      //            btnMyLocation[0].root.hide();
      fEndScroll();

      // 검색후 검색데이터가 있으면 최근기록 저장
      if (search.value) {
        var date = new Date();
        var mapPointForSearch = new MapPoint(null, null, search.value);
        mapPointForSearch.setGubun(NaviGubun.SEARCH);
        mapPointForSearch.setId(mapPointForSearch.getCreated().yyyymmddhhmmss());
        localStorageRecent.delPoi("name", search.value, function () {
          localStorageRecent.addPoi(mapPointForSearch, function () {
          });
        });
      }
      setAddress(null);

    } else {

      //          map.resize("","300px");
      document.querySelectorAll(".poi_list")[tIdx].hide();
      //            snackbar('검색결과가 없습니다.');
      var h = window.innerHeight -
        document.querySelector(".mdc-top-app-bar").offsetHeight -
        document.querySelector(".mdc-tab-bar").offsetHeight -
        search.root.offsetHeight -
        60
        ;
      //            h -=-12;
      //            maps.items[tIdx] = maps.init({
      //                id:"map_div" +tIdx,
      //                height:(h)+"px"
      //            });
      try {
        // maps.items[tIdx].resize(window.innerWidth - 10, h);
      } catch (e) {
      }
      btnMyLocation[0].root.show();
      //moveMylocationCallback();
      // fn_GetLocation("map[" + tIdx + "]", "getMyLocation");
      //            fn_GetLocation("map["+tIdx+"]","getLocation");
    }


      window.getLocationPantobounds = function(mayId, lat, lon, address) {
        getMyLocation(mayId, lat, lon, address,function(){

          if (tIdx == 0) {
            if (maps.home) maps.addBound(maps.home);
          } else if (tIdx == 1) {
            if (maps.company) maps.addBound(maps.company);
          } else if (tIdx == 2) {
            if (maps.favorite) maps.addBound(maps.favorite);
          }
          console.info("maps.boundMapPoints.length", maps.boundMapPoints.length);
          if (maps.boundMapPoints.length > 0) {
            //W
            maps.addBound(maps.my);
            // debugger;
            if (maps.boundMapPoints.length < 3) {
              maps.zoomOut(map, 1000);
            } else {
              //   maps.setZoom(maps.items[tIdx],maps.defaultZoom,1000);
              //   map.zoomIn();
            }

            maps.panToBounds(map);
          } else {
            maps.setZoom(map, maps.defaultZoom);
          }
        });
      }

      fn_GetLocation("map[" + tIdx + "]", "getLocationPantobounds");
    
    // if (tIdx == 0) {
    //   if (maps.home) maps.addBound(maps.home);
    // } else if (tIdx == 1) {
    //   if (maps.company) maps.addBound(maps.company);
    // } else if (tIdx == 2) {
    //   if (maps.favorite) maps.addBound(maps.favorite);
    // }
    // console.info("maps.boundMapPoints.length", maps.boundMapPoints.length);
    // if (maps.boundMapPoints.length > 0) {
    //   //W
    //   maps.addBound(maps.my);
    //   maps.panToBounds(map);
    //   if (maps.boundMapPoints.length < 3) {
    //     maps.zoomOut(map, 1000);
    //   } else {
    //     //   maps.setZoom(maps.items[tIdx],maps.defaultZoom,1000);
    //     //   map.zoomIn();
    //   }
    // } else {
    //   maps.setZoom(map, maps.defaultZoom);
    // }
  } // end successCallbackForSearchPOI

  function progressCallbackForSearchPOI() {
  }

  function errorCallbackForSearchPOI(e) {
    //        snackbar("조회된 자료가 없습니다.");
    snackbar(t("message.data_not_found"));
    //        createMapNMyPin(0);
  }

  function onChangeButton(enableNavi, enableConfirm) {
    //    two = typeof (two) === "undefined"?true:two;
    //    enableConfirm2 = typeof (enableConfirm2) === "undefined"?false:enableConfirm2;
    btnNavi.root.hide();
    btnConfirm.root.hide();
    btnConfirm2.root.hide();

    if (enableNavi && enableConfirm) {
      btnNavi.root.show("inline");
      btnNavi.root.style.width = "49%";
      btnConfirm.root.show("inline");
      btnConfirm.root.style.width = "49%";
    } else {
      if (enableNavi) {
        btnNavi.root.show("block");
        btnNavi.root.style.width = "100%";
      } else if (enableConfirm) {
        btnConfirm.root.show("block");
        btnConfirm.root.style.width = "100%";
      }
    }
  }

  fn_DeviceSaveData("_OPEN_POPUP", true);
  window.fn_BackKeyPressedCallBack = function () {
    debugger;
    fn_DeviceSaveData("_OPEN_POPUP", false);
        // wifiSelectDialog.close();
        // window.fn_BackKeyPressedCallBack = null;
        // material.alert("");
        windowClose();
}  
</script>
</head>

<body>
  <div class="i18n">
    <header class="mdc-top-app-bar mdc-top-app-bar--fixed">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
          <button id="btnBack"
            class="mdc-icon-button material-icons mdc-top-app-bar__navigation-icon--unbounded">arrow_back_ios</button>
          <span class="mdc-top-app-bar__title" data-i18n="label.top_bar">티맵실행</span>
        </section>
        <!--     <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end">
      <button_default id="btnSettings" class="mdc-icon-button_default material-icons mdc-top-app-bar__action-item--unbounded"
        aria-label="Print this page">settings</button_default>
    </section> -->
      </div>
      <div class="mdc-top-app-bar__row">
        <div class="mdc-tab-bar" role="tablist" style="background-color:white;">
          <div class="mdc-tab-scroller">
            <div class="mdc-tab-scroller__scroll-area">
              <div class="mdc-tab-scroller__scroll-content">
                <button class="mdc-tab" role="tab" aria-selected="true" tabindex="0">
                  <span class="mdc-tab__content">
                    <span class="mdc-tab__icon material-icons" aria-hidden="true">search</span>
                    <span class="mdc-tab__text-label" data-i18n="label.recent">최근기록</span>
                  </span>
                  <span class="mdc-tab-indicator ">
                    <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                  </span>
                  <span class="mdc-tab__ripple"></span>
                </button>

                <button class="mdc-tab" role="tab" aria-selected="true" tabindex="0">
                  <span class="mdc-tab__content">
                    <span class="mdc-tab__icon material-icons" aria-hidden="true">start</span>
                    <span class="mdc-tab__text-label" data-i18n="label.search">검색</span>
                  </span>
                  <span class="mdc-tab-indicator">
                    <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                  </span>
                  <span class="mdc-tab__ripple"></span>
                </button>

                <button class="mdc-tab" role="tab" aria-selected="true" tabindex="0">
                  <span class="mdc-tab__content">
                    <span class="mdc-tab__icon material-icons" aria-hidden="true">place</span>
                    <span class="mdc-tab__text-label" data-i18n="label.favorite">즐겨찾기</span>
                  </span>
                  <span class="mdc-tab-indicator">
                    <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                  </span>
                  <span class="mdc-tab__ripple"></span>
                </button>


                <button class="mdc-tab" role="tab" aria-selected="true" tabindex="0">
                  <span class="mdc-tab__content">
                    <span class="mdc-tab__icon material-icons" aria-hidden="true">map</span>
                    <span class="mdc-tab__text-label" data-i18n="label.map">지도</span>
                  </span>
                  <span class="mdc-tab-indicator">
                    <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                  </span>
                  <span class="mdc-tab__ripple"></span>
                </button>

              </div>
            </div>
          </div>
        </div>
      </div>

    </header>

  <div class="main mdc-top-app-bar--fixed-adjust i18n" style="padding-top:100px">
      <div class="row" id="search_wrapper">
        <div class="margin_top_20 left"><!--fieldset-->
          <label id="search" class="mdc-text-field mdc-text-field--outlined mdc-text-field--with-trailing-icon "
            style="width:100%;">
            <div class="mdc-text-field__ripple"></div>
            <input class="mdc-text-field__input" type="text" aria-labelledby="my-label-id" aria-controls="my-helper-id"
              aria-describedby="my-helper-id">
            <span id="label" class="mdc-floating-label" data-i18n="label.search_placeholder">장소, 주소, 전화번호 검색</span>
            <i class="material-icons mdc-text-field__icon mdc-text-field__icon--trailing" tabindex="0" role="button"
              style="right:80px;display:none" id="search_clear">clear</i>
            <div class="mdc-line-ripple"></div>
            <button class="btnSearch mdc-button mdc-button--raised  material-icons " style="top:10px;"> <span
                class="mdc-button__ripple"></span>search</button>
          </label>
        </div>
      </div>
    <div class="row tab_area none margin_top_0">
        <div class="margin_top_20 left"><!--fieldset-->
          <div style="margin-top:0px">
            <li class="poi_list_item mdc-list-item mdc-ripple-upgraded" tabindex="-1"
              style="display:none;padding-left:5px"><!-- ;height:40px -->
              <span class="mdc-list-item__graphic material-icons" aria-hidden="true" style="color:#000000">folder</span>
              <span class="mdc-list-item__text">
              </span>
              <span class="mdc-list-item__meta" aria-hidden="true" style="font-size: 1rem;">star_border</span>
            </li>

            <ul class="poi_list mdc-list mdc-list--avatar-list padding_top_0 none" role="listbox"
              style="overflow-y:auto;"> <!-- height:140px; -->
            </ul>
            <hr />
            <!--  -->
            <!--
    <li class="mdc-list-item" role="option" tabindex="0" style="display:none;padding-left:5px;height:40px">
    <span class="mdc-list-item__graphic material-icons" aria-hidden="true">folder</span>
    <span class="mdc-list-item__text">Single-line item</span>
    <span class="mdc-list-item__meta material-icons" aria-hidden="true">info</span>
    </li>
     -->
            <div id="map_div0" style="width:500px;height:100%;border:0px solid red;"></div>
          </div>
        </div><!--fieldset-->
      </div>
      <div class="row tab_area ">
        <div class="margin_top_20 left"><!--fieldset-->
          <div style="margin-top:0px">
            <li class="poi_list_item mdc-list-item mdc-ripple-upgraded" tabindex="-1"
              style="display:none;padding-left:5px"><!-- ;height:40px -->
              <span class="mdc-list-item__graphic material-icons" aria-hidden="true">folder</span>
              <span class="mdc-list-item__text">
                <span class="mdc-list-item__primary-text">Potatoes</span>
                <span class="mdc-list-item__secondary-text">30 Noc 2017</span>
              </span>
              <span class="mdc-list-item__meta material-icons" aria-hidden="true"
                style="color:#F1C40F;font-size:30px">star</span>
            </li>
            <ul class="poi_list mdc-list mdc-list--two-line mdc-list--avatar-list padding_top_0 none" role="listbox"
              style="overflow-y:auto;"> <!-- height:250px; -->
            </ul>
            <hr />
            <div id="map_div1" style="width:500px;height:100%;border:0px solid red;"></div>
          </div>
        </div><!--fieldset-->
      </div>

      <div class="row tab_area none">
        <div class="margin_top_20 left"><!--fieldset-->
          <div style="margin-top:0px">
            <li class="poi_list_item mdc-list-item mdc-ripple-upgraded" tabindex="-1"
              style="display:none;padding-left:5px"><!-- ;height:40px -->
              <span class="mdc-list-item__graphic material-icons" aria-hidden="true">folder</span>
              <span class="mdc-list-item__text">
                <span class="mdc-list-item__primary-text">Potatoes</span>
                <span class="mdc-list-item__secondary-text">30 Noc 2017</span>
              </span>
              <span class="mdc-list-item__meta material-icons" aria-hidden="true"
                style="color:#F1C40F;font-size:30px">star</span>
            </li>
            <ul class="poi_list mdc-list mdc-list--two-line mdc-list--avatar-list padding_top_0 none" role="listbox"
              style="overflow-y:auto;"> <!-- height:250px; -->
            </ul>
            <hr />
            <div id="map_div2" style="width:500px;height:100%;border:0px solid red;"></div>
          </div>
        </div><!--fieldset-->
      </div>

      <div class="row tab_area none">
        <div class="margin_top_20 left"><!--fieldset-->
          <div style="margin-top:0px">
            <div id="map_div3" style="width:500px;height:100%;border:0px solid red;"></div>
          </div>
        </div><!--fieldset-->
      </div>
      <div style="position:fixed;bottom:0px;width:100%;border:0px solid red;width:100%;text-align:center;">
        <div class="mdc-chip-set mdc-chip-set--choice"
          style="border:0px;width:50px;position:relative;top:-0px;right:calc(-100% + 70px);">
          <div class="btnMyLocation mdc-chip mdc-ripple-upgraded " role="row"
            style="background-color:white;padding:15px;padding-bottom:20px;padding-right:12px">
            <div class="mdc-chip__ripple"></div>
            <i style="color: var(--mdc-theme-primary);font-size: 25px;" onselectstart="return false;"
              class="material-icons mdc-chip__icon mdc-chip__icon--leading">my_location</i>
          </div>
        </div>
        <div id="place_address"
          style="font-size:13px;width:100%;border:0px solid blue;background-color: rgba( 0, 0, 0, 0.5 );color:white;font-weight:bold;height:45px;padding-top:15px;margin-bottom:2px">
        </div>

        <button id="btnNavi" type="button" class="mdc-button mdc-button--raised none" data-mdc-dialog-action="close"
          style="height:50px;padding:20px;width:100%;left:0px">
          <div class="mdc-button__ripple"></div>
          <span class="mdc-button__label" data-i18n="label.navi">안내</span>
        </button>

        <button id="btnConfirm" type="button" class="mdc-button mdc-button--raised " data-mdc-dialog-action="close"
          style="height:50px;padding:20px;width:100%;left:0px">
          <div class="mdc-button__ripple"></div>
          <span class="mdc-button__label" data-i18n="label.favorite">즐겨찾기</span>
        </button>

        <button id="btnConfirm2" type="button" class="mdc-button mdc-button--raised none" data-mdc-dialog-action="close"
          style="height:50px;padding:20px;width:100%;left:0px">
          <div class="mdc-button__ripple"></div>
          <span class="mdc-button__label" data-i18n="label.remove_favorite">즐겨찾기-삭제</span>
        </button>

      </div>
    </div>

    <div class="mdc-snackbar">
      <div class="mdc-snackbar__surface">
        <div class="mdc-snackbar__label" role="status" aria-live="polite">~~</div>
        <!--     <div class="mdc-snackbar__actions"><button_default type="button_default" class="mdc-button_default mdc-snackbar__action"><button_default
          class="mdc-icon-button_default mdc-snackbar__dismiss material-icons" title="Dismiss">close</button_default></div> -->
      </div>
    </div>

    <div class="basic mdc-dialog">
      <div class="mdc-dialog__container">
        <div class="mdc-dialog__surface" role="alertdialog" aria-modal="true" aria-labelledby="my-dialog-title"
          aria-describedby="my-dialog-content">
          <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
          <h2 class="mdc-dialog__title" id="my-dialog-title">
            <!--
     -->Choose a Ringtone
            <!--
   -->
          </h2>
          <div class="mdc-dialog__content" id="my-dialog-content">
          </div>
          <footer class="mdc-dialog__actions">
            <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="close">
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label" data-i18n="label.cancel">Cancel</span>
            </button>
            <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="accept"
              data-mdc-dialog-button-default>
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label" data-i18n="label.ok">OK</span>
            </button>
          </footer>
        </div>
      </div>
      <div class="mdc-dialog__scrim"></div>
    </div>
  </div>
</body>


</html>